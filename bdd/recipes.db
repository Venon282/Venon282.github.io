-- for create it https://sqliteonline.com/
-- Create Recipes table
CREATE TABLE Recipes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT,
    prep_time INTEGER, -- In minutes
    cook_time INTEGER, -- In minutes
    image_url TEXT, -- Link to an image
    recipe_json TEXT -- Path to JSON file for ingredients and steps
);

-- Create Tags table
CREATE TABLE Tags (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL
);

-- Create RecipeTags table (many-to-many relation between Recipes and Tags)
CREATE TABLE RecipeTags (
    recipe_id INTEGER,
    tag_id INTEGER,
    FOREIGN KEY (recipe_id) REFERENCES Recipes(id),
    FOREIGN KEY (tag_id) REFERENCES Tags(id),
    PRIMARY KEY (recipe_id, tag_id)
);

-- Create RecipeTypes table
CREATE TABLE RecipeTypes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    type_name TEXT NOT NULL
);

-- Create RecipeCategories table
CREATE TABLE Categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category_name TEXT NOT NULL
);

-- Create RecipeCategories table (many-to-many relation between Recipes and Categories)
CREATE TABLE RecipeCategories (
    recipe_id INTEGER,
    category_id INTEGER,
    FOREIGN KEY (recipe_id) REFERENCES Recipes(id),
    FOREIGN KEY (category_id) REFERENCES Categories(id),
    PRIMARY KEY (recipe_id, category_id)
);

-- Insert sample tags
INSERT INTO Tags (name) VALUES ('Vegetarian');
INSERT INTO Tags (name) VALUES ('Gluten-Free');
INSERT INTO Tags (name) VALUES ('Quick');
INSERT INTO Tags (name) VALUES ('Vegan');
INSERT INTO Tags (name) VALUES ('Healthy');
INSERT INTO Tags (name) VALUES ('Spicy');

-- Insert sample recipe types
INSERT INTO RecipeTypes (type_name) VALUES ('Appetizer');
INSERT INTO RecipeTypes (type_name) VALUES ('Main Course');
INSERT INTO RecipeTypes (type_name) VALUES ('Dessert');
INSERT INTO RecipeTypes (type_name) VALUES ('Snack');

-- Insert sample categories
INSERT INTO Categories (category_name) VALUES ('Italian');
INSERT INTO Categories (category_name) VALUES ('Mexican');
INSERT INTO Categories (category_name) VALUES ('Asian');
INSERT INTO Categories (category_name) VALUES ('American');
